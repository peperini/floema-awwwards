/*! For license information please see main.558ecca21cb5904dfa5f.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema_awwwards("main",{"./app/animations/Paragraph.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var s=n("./app/classes/Animation.js"),i=n("./node_modules/gsap/index.js"),a=n("./app/utils/text.js"),l=n("./node_modules/lodash/each.js"),o=n.n(l);class r extends s.default{constructor({element:e,elements:t}){super({element:e,elements:t}),this.elementLinesSpans=(0,a.split)({element:this.element,append:!0})}animateIn(){this.timelineIn=i.default.timeline({delay:.5}),this.timelineIn.set(this.element,{autoAlpha:1}),o()(this.elementLines,((e,t)=>{this.timelineIn.fromTo(e,{autoAlpha:0,y:"100%"},{autoAlpha:0,delay:.2*t,duration:1.5,ease:"expo.out",y:"0%"},0)}))}animateOut(){i.default.set(this.element,{autoAlpha:0})}onResize(){this.elementLines=(0,a.calculate)(this.elementLinesSpans)}}},"./app/classes/Page.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var s=n("./node_modules/gsap/index.js"),i=n("./node_modules/lodash/each.js"),a=n.n(i),l=n("./node_modules/lodash/map.js"),o=n.n(l),r=n("./node_modules/prefix/index.js"),h=n.n(r),m=n("./node_modules/normalize-wheel/index.js"),d=n.n(m),u=n("./app/animations/Title.js"),c=n("./app/animations/Paragraph.js");Object(function(){var e=new Error("Cannot find module 'animations/Label'");throw e.code="MODULE_NOT_FOUND",e}());class p{constructor({element:e,elements:t,id:n}){this.selector=e,this.selectorChildren={...t,animationTitles:'[data-animation="title"]',animationParagraphs:'[data-animation="paragraph"]',animationLabels:'[data-animation="label"]'},this.id=n,this.transformPrefix=h()("transform"),this.onMouseWheelEvent=this.onMouseWheel.bind(this)}create(){this.element=document.querySelector(this.selector),this.elements={},this.scroll={current:0,target:0,last:0,limit:0},a()(this.selectorChildren,((e,t)=>{e instanceof window.HTMLElement||e instanceof window.NodeList||Array.isArray(e)?this.elements[t]=e:(this.elements[t]=document.querySelectorAll(e),0===this.elements[t].length?this.elements[t]=null:1===this.elements[t].length&&(this.elements[t]=document.querySelector(e)))})),this.createAnimations()}createAnimations(){this.animations=[],this.animationTitles=o()(this.elements.animationTitles,(e=>new u.default({element:e}))),this.animations.psuh(...this.animationTitles),this.animationParagraphs=o()(this.elements.animationParagraphs,(e=>new c.default({element:e}))),this.animations.psuh(...this.animationParagraphs),this.animationLabels=o()(this.elements.animationLabels,(e=>new Object(function(){var e=new Error("Cannot find module 'animations/Label'");throw e.code="MODULE_NOT_FOUND",e}())({element:e}))),this.animations.psuh(...this.animationLabels)}show(){return new Promise((e=>{this.animationIn=s.default.timeline(),this.animationIn.fromTo(this.element,{autoAlpha:0},{autoAlpha:1}),this.animationIn.call((()=>{this.addEventListeners(),e()}))}))}hide(){return new Promise((e=>{this.removeEventListeners(),this.animationOut=s.default.timeline(),this.animationOut.to(this.element,{autoAlpha:0,onComplete:e})}))}onMouseWheel(e){const{pixelY:t}=d()(e);this.scroll.target+=t}onResize(){this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight),a()(this.animationTitles,(e=>e.onResize()))}update(){this.scroll.target=s.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current=s.default.utils.interpolate(this.scroll.current,this.scroll.target,.1),this.scroll.current<.01&&(this.scroll.current=0),this.elements.wrapper&&(this.elements.wrapper.style[this.transformPrefix]=`translateY(-${this.scroll.current}px)`)}addEventListeners(){window.addEventListener("mousewheel",this.onMouseWheelEvent)}removeEventListeners(){window.removeEventListener("mousewheel",this.onMouseWheelEvent)}}}},(function(e){e.h=()=>"e957a1cc07f5b1fc255b"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUsrQixrQkFDL0MsQ0FFQWlDLHVCQUNJcEIsT0FBT3FDLG9CQUFvQixhQUFjakYsS0FBSytCLGtCQUNsRCxrQkM1SkptRCxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLWF3d3dhcmRzLy4vYXBwL2FuaW1hdGlvbnMvUGFyYWdyYXBoLmpzIiwid2VicGFjazovL2Zsb2VtYS1hd3d3YXJkcy8uL2FwcC9jbGFzc2VzL1BhZ2UuanMiLCJ3ZWJwYWNrOi8vZmxvZW1hLWF3d3dhcmRzL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQW5pbWF0aW9uIGZyb20gJ2NsYXNzZXMvQW5pbWF0aW9uJztcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXG5pbXBvcnQgeyBjYWxjdWxhdGUsIHNwbGl0IH0gZnJvbSAndXRpbHMvdGV4dCdcbmltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJhZ3JhcGggZXh0ZW5kcyBBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yICh7IGVsZW1lbnQsIGVsZW1lbnRzfSkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgZWxlbWVudHNcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZWxlbWVudExpbmVzU3BhbnMgPSBzcGxpdCh7IFxuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LCBcbiAgICAgICAgICAgIGFwcGVuZDogdHJ1ZSBcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBhbmltYXRlSW4gKCkge1xuICAgICAgICB0aGlzLnRpbWVsaW5lSW4gPSBHU0FQLnRpbWVsaW5lKHtcbiAgICAgICAgICAgIGRlbGF5OiAwLjVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnRpbWVsaW5lSW4uc2V0KHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgYXV0b0FscGhhOiAxXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBlYWNoKHRoaXMuZWxlbWVudExpbmVzLCAobGluZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGltZWxpbmVJbi5mcm9tVG8obGluZSwge1xuICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgICAgICAgICB5OiAnMTAwJSdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDAsXG4gICAgICAgICAgICAgICAgZGVsYXk6IGluZGV4ICogMC4yLCBcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMS41LFxuICAgICAgICAgICAgICAgIGVhc2U6ICdleHBvLm91dCcsXG4gICAgICAgICAgICAgICAgeTogJzAlJ1xuICAgICAgICAgICAgfSwgMClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBhbmltYXRlT3V0ICgpIHtcbiAgICAgICAgR1NBUC5zZXQodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBhdXRvQWxwaGE6IDBcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBvblJlc2l6ZSAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudExpbmVzID0gY2FsY3VsYXRlKHRoaXMuZWxlbWVudExpbmVzU3BhbnMpXG4gICAgfVxufSIsImltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXG5pbXBvcnQgZWFjaCBmcm9tICdsb2Rhc2gvZWFjaCdcbmltcG9ydCBtYXAgZnJvbSAnbG9kYXNoL21hcCdcbmltcG9ydCBQcmVmaXggZnJvbSAncHJlZml4J1xuaW1wb3J0IG5vcm1hbGl6ZVdoZWVsIGZyb20gJ25vcm1hbGl6ZS13aGVlbCdcblxuaW1wb3J0IFRpdGxlIGZyb20gJ2FuaW1hdGlvbnMvVGl0bGUnXG5pbXBvcnQgUGFyYWdyYXBoIGZyb20gJ2FuaW1hdGlvbnMvUGFyYWdyYXBoJ1xuaW1wb3J0IExhYmVsIGZyb20gJ2FuaW1hdGlvbnMvTGFiZWwnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2Uge1xuICAgIGNvbnN0cnVjdG9yICh7IFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgaWRcbiAgICAgfSkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gZWxlbWVudFxuICAgICAgICB0aGlzLnNlbGVjdG9yQ2hpbGRyZW4gPSB7XG4gICAgICAgICAgICAuLi5lbGVtZW50cyxcblxuICAgICAgICAgICAgYW5pbWF0aW9uVGl0bGVzOiAnW2RhdGEtYW5pbWF0aW9uPVwidGl0bGVcIl0nLFxuICAgICAgICAgICAgYW5pbWF0aW9uUGFyYWdyYXBoczogJ1tkYXRhLWFuaW1hdGlvbj1cInBhcmFncmFwaFwiXScsXG4gICAgICAgICAgICBhbmltYXRpb25MYWJlbHM6ICdbZGF0YS1hbmltYXRpb249XCJsYWJlbFwiXSdcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaWQgPSBpZFxuICAgICAgICBcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1QcmVmaXggPSBQcmVmaXgoJ3RyYW5zZm9ybScpXG4gICAgICAgIFxuICAgICAgICB0aGlzLm9uTW91c2VXaGVlbEV2ZW50ID0gdGhpcy5vbk1vdXNlV2hlZWwuYmluZCh0aGlzKVxuICAgIH1cblxuICAgIGNyZWF0ZSAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IHt9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgICAgICBsYXN0OiAwLFxuICAgICAgICAgICAgbGltaXQ6IDBcbiAgICAgICAgfVxuXG4gICAgICAgIGVhY2godGhpcy5zZWxlY3RvckNoaWxkcmVuLCAoZW50cnksIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8IGVudHJ5IGluc3RhbmNlb2Ygd2luZG93Lk5vZGVMaXN0IHx8IEFycmF5LmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZW50cnlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbnRyeSlcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbnRyeSlcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygpXG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9ucyAoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdXG5cbiAgICAgICAgLy8gVGl0bGVzXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uVGl0bGVzID0gbWFwKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uVGl0bGVzLCBlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGl0bGUoe1xuICAgICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnBzdWgoLi4udGhpcy5hbmltYXRpb25UaXRsZXMpXG5cbiAgICAgICAgLy8gUGFyYWdyYXBoc1xuICAgICAgICB0aGlzLmFuaW1hdGlvblBhcmFncmFwaHMgPSBtYXAodGhpcy5lbGVtZW50cy5hbmltYXRpb25QYXJhZ3JhcGhzLCBlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wc3VoKC4uLnRoaXMuYW5pbWF0aW9uUGFyYWdyYXBocylcblxuICAgICAgICAvLyBMYWJlbHNcbiAgICAgICAgdGhpcy5hbmltYXRpb25MYWJlbHMgPSBtYXAodGhpcy5lbGVtZW50cy5hbmltYXRpb25MYWJlbHMsIGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMYWJlbCh7XG4gICAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHN1aCguLi50aGlzLmFuaW1hdGlvbkxhYmVscylcbiAgICB9XG5cbiAgICBzaG93ICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JbiA9IEdTQVAudGltZWxpbmUoKVxuXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkluLmZyb21Ubyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDBcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDEsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkluLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGhpZGUgKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKClcblxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25PdXQgPSBHU0FQLnRpbWVsaW5lKClcblxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25PdXQudG8odGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgYXV0b0FscGhhOiAwLFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IHJlc29sdmVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgb25Nb3VzZVdoZWVsIChldmVudCkge1xuICAgICAgICBjb25zdCB7IHBpeGVsWSB9ID0gbm9ybWFsaXplV2hlZWwoZXZlbnQpXG5cbiAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IHBpeGVsWVxuICAgIH1cblxuICAgIG9uUmVzaXplICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMud3JhcHBlcikge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGwubGltaXQgPSB0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xpZW50SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIH1cblxuICAgICAgICBlYWNoKHRoaXMuYW5pbWF0aW9uVGl0bGVzLCBhbmltYXRpb24gPT4gYW5pbWF0aW9uLm9uUmVzaXplKCkpXG4gICAgfVxuXG4gICAgdXBkYXRlICgpIHtcbiAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ID0gR1NBUC51dGlscy5jbGFtcCgwLCB0aGlzLnNjcm9sbC5saW1pdCwgdGhpcy5zY3JvbGwudGFyZ2V0KVxuXG4gICAgICAgIHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMuc2Nyb2xsLmN1cnJlbnQsIHRoaXMuc2Nyb2xsLnRhcmdldCwgMC4xKVxuXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbC5jdXJyZW50IDwgMC4wMSkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGwuY3VycmVudCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50cy53cmFwcGVyKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXIuc3R5bGVbdGhpcy50cmFuc2Zvcm1QcmVmaXhdID0gYHRyYW5zbGF0ZVkoLSR7dGhpcy5zY3JvbGwuY3VycmVudH1weClgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRFdmVudExpc3RlbmVycyAoKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbk1vdXNlV2hlZWxFdmVudClcbiAgICB9XG5cbiAgICByZW1vdmVFdmVudExpc3RlbmVycyAoKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbk1vdXNlV2hlZWxFdmVudClcbiAgICB9XG59IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiZTk1N2ExY2MwN2Y1YjFmYzI1NWJcIikiXSwibmFtZXMiOlsiUGFyYWdyYXBoIiwiQW5pbWF0aW9uIiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiZWxlbWVudHMiLCJzdXBlciIsInRoaXMiLCJlbGVtZW50TGluZXNTcGFucyIsInNwbGl0IiwiYXBwZW5kIiwiYW5pbWF0ZUluIiwidGltZWxpbmVJbiIsIkdTQVAiLCJ0aW1lbGluZSIsImRlbGF5Iiwic2V0IiwiYXV0b0FscGhhIiwiZWFjaCIsImVsZW1lbnRMaW5lcyIsImxpbmUiLCJpbmRleCIsImZyb21UbyIsInkiLCJkdXJhdGlvbiIsImVhc2UiLCJhbmltYXRlT3V0Iiwib25SZXNpemUiLCJjYWxjdWxhdGUiLCJQYWdlIiwiaWQiLCJzZWxlY3RvciIsInNlbGVjdG9yQ2hpbGRyZW4iLCJhbmltYXRpb25UaXRsZXMiLCJhbmltYXRpb25QYXJhZ3JhcGhzIiwiYW5pbWF0aW9uTGFiZWxzIiwidHJhbnNmb3JtUHJlZml4IiwiUHJlZml4Iiwib25Nb3VzZVdoZWVsRXZlbnQiLCJvbk1vdXNlV2hlZWwiLCJiaW5kIiwiY3JlYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsIiwiY3VycmVudCIsInRhcmdldCIsImxhc3QiLCJsaW1pdCIsImVudHJ5Iiwia2V5Iiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJOb2RlTGlzdCIsIkFycmF5IiwiaXNBcnJheSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJjcmVhdGVBbmltYXRpb25zIiwiYW5pbWF0aW9ucyIsIm1hcCIsIlRpdGxlIiwicHN1aCIsIkxhYmVsIiwic2hvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwiYW5pbWF0aW9uSW4iLCJjYWxsIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJoaWRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJhbmltYXRpb25PdXQiLCJ0byIsIm9uQ29tcGxldGUiLCJldmVudCIsInBpeGVsWSIsIm5vcm1hbGl6ZVdoZWVsIiwid3JhcHBlciIsImNsaWVudEhlaWdodCIsImlubmVySGVpZ2h0IiwiYW5pbWF0aW9uIiwidXBkYXRlIiwidXRpbHMiLCJjbGFtcCIsImludGVycG9sYXRlIiwic3R5bGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==